#!/bin/sh
cd ${0%/*} || exit 1    # run from this directory

# Source tutorial run functions
. $WM_PROJECT_DIR/bin/tools/RunFunctions

runApplication blockMesh
runApplication surfaceFeatureExtract -includedAngle 150 -writeObj constant/triSurface/rectCylinder01.stl rectCylinder01
mv log.surfaceFeatureExtract surfaceFeatureExtract_rectCylinder01.log 

runApplication snappyHexMesh -overwrite
# mpirun -np 2 snappyHexMesh -parallel
# reconstructParMesh

# force removal of fields generated by snappy
#\rm -rf 0

#cp -rf 0.org 0

#runApplication `getApplication`

echo "***********************************"
echo "mesh creation with snappyHexMesh is completed."
echo ""
echo "Please check log files!"
echo "Please check mesh with paraview"
echo ""
echo "***********************************"

# ----------------------------------------------------------------- end-of-file
